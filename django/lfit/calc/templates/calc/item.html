{% extends 'calc/layout.html' %}
{% block title %}商品{% endblock %}

{% block content %}
<h1>商品</h1>
<ul class="nav">
    <li class="nav-item"><a class="nav-link" href="{% url 'calc:items' %}">商品一覧に戻る</a></li>
</ul>

{% if messages %}
<div style="margin: 1em auto;">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}" role="alert">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}

<form enctype="multipart/form-data" action="{% url 'calc:item' item_id %}" method="POST">
    {% csrf_token %}
    {% for item in form %}
    <div class="mb-3">
        <label for="{{ item.id_for_label }}" class="form-label">{{ item.label }}</label>
        <input type="{{ item.field.widget.input_type }}" 
            class="form-control" id="{{ item.id_for_label }}" name="{{ item.name }}"
            {% if item.value %}value="{{ item.value }}"{% endif %}
            {% if item.field.required %}required{% endif %}>
            {{ item.errors }}
    </div>
    {% endfor %}
    {% if item.image %}
    <div class="mb-3" style="width: 320px;">
        <img class="img-fluid" src="{{ item.image.url }}">
    </div>
    {% endif %}
    <input type="submit" class="btn btn-primary" value="保存">
</form>
{% endblock %}
